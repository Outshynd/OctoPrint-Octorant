<h3>{{ _('Discord settings') }}</h3>
<form class="form-horizontal">
    <div class="control-group">
        <label class="control-label">{{ _('Webhook URL') }}</label>
        <div class="controls">
            <input type="text" class="input-block-level" data-bind="value: settings.settings.plugins.octorant.url">
        </div>
    </div>
    <div class="control-group">
        <label class="control-label">{{ _('Bot Name') }}</label>
        <div class="controls">
            <input type="text" class="input-block-level" data-bind="value: settings.settings.plugins.octorant.username">
        </div>
    </div>
    <div class="control-group">
        <label class="control-label">{{ _('Bot Avatar URL') }}</label>
        <div class="controls">
            <input type="text" class="input-block-level" data-bind="value: settings.settings.plugins.octorant.avatar">
        </div>
    </div>
    <div style="clear:both">
        <small>{{ _("If you modify these settings, a test message will be sent to the Discord channel.") }}</small>
    </div>
</form>
<h3>{{ _('Messages settings') }}</h3>
<form class="form-horizontal">
    <h4>
        <span>{{ _("System") }}</span>
    </h4>
    {% include "messages_system.jinja2" %}
    <h4>
        <span>{{ _("Printer") }}</span>
    </h4>
    {% include "messages_printer.jinja2" %}
    <h4>
        <span>{{ _("Transfer to SD card") }}</span>
    </h4>
    {% include "messages_transfer.jinja2" %}
    <h4>
        <span>{{ _("Prints") }}</span>
    </h4>
    {% include "messages_prints.jinja2" %}
    <h4>
        <span>{{ _("Printing Progress") }}</span>
    </h4>
    {% include "messages_progress.jinja2" %}
    <h4>
        <span>{{ _("Timelapses") }}</span>
    </h4>
    {% include "messages_timelapse.jinja2" %}
</form>
<h3>Scripts settings</h3>
<form class="form-horizontal">
    <div style="clear:both">
        <p>{{ _("To modify these settings, you need to set") }} <code>allow_scripts: true</code> {{ _("in your configuration file.") }}</p>
    </div>
    <div  data-bind="visible: settings.settings.plugins.octorant.allow_scripts">
        <div class="alert">
            <p>Those settings are now <strong>deprecated</strong> and will be removed in the next release.</p>
            <p>
                Instead of having specific and limited script support here, OctoRant now takes advantage of the <strong>Event Manager</strong> 
                and offers two specific events there: <code>plugin_octorant_before_notify</code> and <code>plugin_octorant_after_notify</code>.
            </p>
            <p>Those settings are much more powerful and supports also sending GCode to your printer.</p>
            <p>Please migrate your configuration to the Event Manager as soon as you can. Due to low use of this feature, the scripts configured here <strong>won't be migrated</strong> when the feature is removed.</p>
        </div>
        <div class="control-group">
            <label class="control-label">{{ _('Before message, start:') }}</label>
            <div class="controls">
                <input type="text" class="input-block-level" data-bind="value: settings.settings.plugins.octorant.script_before">
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">{{ _('After message, start:') }}</label>
            <div class="controls">
                <input type="text" class="input-block-level" data-bind="value: settings.settings.plugins.octorant.script_after">
            </div>
        </div>
        <div style="clear:both">
            <p>
                {{ _("Here you can specify a file to be executed <strong>before</strong> and <strong>after</strong> each message is sent to Discord.") }} 
                {{ _("<strong>The file should be executable by the user under which OctoPrint is running</strong>") }}
            </p>
        </div>
    </div>
</form>
